{
	"identifier": "billing-engine",
	"about": {
		"title": "Managed Functions Billing Engine",
		"explanation": "Define the container service for Managed Functions Billing Engine"
	},
	"compute_service": {
		"identifier": "container_service"
	},
	"dimensions": {
		"cpus": 10,
		"memory": 256
	},
	"ports": [
		{
			"container_port": 83,
			"host_port": 83
		}
	],	
	"binding_target": {
		"configuration": {
			"desired_count": 3,
			"essential": true
 		}
	},
	"resources": [
		{
			"type": "container_task_definition",
			"identifier": "billing-engine"
		},
		{
			"type": "load_balancer",
			"identifier": "billing-engine",
			"configuration": {
				"subnets": [
					"subnet_a",
			    		"subnet_b"
				],
				"security_groups": [
					"security_group"
				]
			}
		},
		{
			"type": "load_balancer_target_group",
			"identifier": "billing-engine",
			"configuration": {
				"port": 83
			}
		},
		{
			"type": "load_balancer_listener",
			"identifier": "billing-engine"
		},
		{
			"type": "subnet",
			"identifier": "billing-engine",
			"configuration": {
				"cidr_block": "10.111.40.0/24"
			}
		}
	]
}
